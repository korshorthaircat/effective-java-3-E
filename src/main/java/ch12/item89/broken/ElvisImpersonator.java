package ch12.item89.broken;

import java.util.Arrays;

import static ch12.Util.deserialize;

public class ElvisImpersonator {
    private static final byte[] serializedForm = {
            (byte) 0xAC, (byte) 0xED, (byte) 0x00, (byte) 0x05, (byte) 0x73, (byte) 0x72, (byte) 0x00, (byte) 0x1F, (byte) 0x63, (byte) 0x68,
            (byte) 0x31, (byte) 0x32, (byte) 0x2E, (byte) 0x69, (byte) 0x74, (byte) 0x65, (byte) 0x6D, (byte) 0x38, (byte) 0x39, (byte) 0x2E,
            (byte) 0x62, (byte) 0x72, (byte) 0x6F, (byte) 0x6B, (byte) 0x65, (byte) 0x6E, (byte) 0x2E, (byte) 0x45, (byte) 0x6C, (byte) 0x76,
            (byte) 0x69, (byte) 0x73, (byte) 0x53, (byte) 0x74, (byte) 0x65, (byte) 0x61, (byte) 0x6C, (byte) 0x65, (byte) 0x72, (byte) 0x00,
            (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x02, (byte) 0x00, (byte) 0x01,
            (byte) 0x4C, (byte) 0x00, (byte) 0x07, (byte) 0x70, (byte) 0x61, (byte) 0x79, (byte) 0x6C, (byte) 0x6F, (byte) 0x61, (byte) 0x64,
            (byte) 0x74, (byte) 0x00, (byte) 0x1A, (byte) 0x4C, (byte) 0x63, (byte) 0x68, (byte) 0x31, (byte) 0x32, (byte) 0x2F, (byte) 0x69,
            (byte) 0x74, (byte) 0x65, (byte) 0x6D, (byte) 0x38, (byte) 0x39, (byte) 0x2F, (byte) 0x62, (byte) 0x72, (byte) 0x6F, (byte) 0x6B,
            (byte) 0x65, (byte) 0x6E, (byte) 0x2F, (byte) 0x45, (byte) 0x6C, (byte) 0x76, (byte) 0x69, (byte) 0x73, (byte) 0x3B, (byte) 0x78,
            (byte) 0x70, (byte) 0x73, (byte) 0x72, (byte) 0x00, (byte) 0x18, (byte) 0x63, (byte) 0x68, (byte) 0x31, (byte) 0x32, (byte) 0x2E,
            (byte) 0x69, (byte) 0x74, (byte) 0x65, (byte) 0x6D, (byte) 0x38, (byte) 0x39, (byte) 0x2E, (byte) 0x62, (byte) 0x72, (byte) 0x6F,
            (byte) 0x6B, (byte) 0x65, (byte) 0x6E, (byte) 0x2E, (byte) 0x45, (byte) 0x6C, (byte) 0x76, (byte) 0x69, (byte) 0x73, (byte) 0x00,
            (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x02, (byte) 0x00, (byte) 0x01,
            (byte) 0x5B, (byte) 0x00, (byte) 0x0D, (byte) 0x66, (byte) 0x61, (byte) 0x76, (byte) 0x6F, (byte) 0x72, (byte) 0x69, (byte) 0x74,
            (byte) 0x65, (byte) 0x53, (byte) 0x6F, (byte) 0x6E, (byte) 0x67, (byte) 0x73, (byte) 0x74, (byte) 0x00, (byte) 0x13, (byte) 0x5B,
            (byte) 0x4C, (byte) 0x6A, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2F, (byte) 0x6C, (byte) 0x61, (byte) 0x6E, (byte) 0x67,
            (byte) 0x2F, (byte) 0x53, (byte) 0x74, (byte) 0x72, (byte) 0x69, (byte) 0x6E, (byte) 0x67, (byte) 0x3B, (byte) 0x78, (byte) 0x70,
            (byte) 0x75, (byte) 0x72, (byte) 0x00, (byte) 0x13, (byte) 0x5B, (byte) 0x4C, (byte) 0x6A, (byte) 0x61, (byte) 0x76, (byte) 0x61,
            (byte) 0x2E, (byte) 0x6C, (byte) 0x61, (byte) 0x6E, (byte) 0x67, (byte) 0x2E, (byte) 0x53, (byte) 0x74, (byte) 0x72, (byte) 0x69,
            (byte) 0x6E, (byte) 0x67, (byte) 0x3B, (byte) 0xAD, (byte) 0xD2, (byte) 0x56, (byte) 0xE7, (byte) 0xE9, (byte) 0x1D, (byte) 0x7B,
            (byte) 0x47, (byte) 0x02, (byte) 0x00, (byte) 0x00, (byte) 0x78, (byte) 0x70, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x02,
            (byte) 0x74, (byte) 0x00, (byte) 0x09, (byte) 0x48, (byte) 0x6F, (byte) 0x75, (byte) 0x6E, (byte) 0x64, (byte) 0x20, (byte) 0x44,
            (byte) 0x6F, (byte) 0x67, (byte) 0x74, (byte) 0x00, (byte) 0x10, (byte) 0x48, (byte) 0x65, (byte) 0x61, (byte) 0x72, (byte) 0x74,
            (byte) 0x62, (byte) 0x72, (byte) 0x65, (byte) 0x61, (byte) 0x6B, (byte) 0x20, (byte) 0x48, (byte) 0x6F, (byte) 0x74, (byte) 0x65,
            (byte) 0x6C
    };

    public static void main(String[] args) {
        Object fakeElvis = deserialize(serializedForm);  // 실제로는 String[] 반환됨
        Elvis impersonator = ElvisStealer.impersonator;

        System.out.println("Fake Elvis says:");
        System.out.println(Arrays.toString((String[]) fakeElvis));

        System.out.println("Real Elvis says:");
        impersonator.printFavorites();
    }
}
